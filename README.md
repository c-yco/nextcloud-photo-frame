# Nextcloud Photo Discovery App

A Dockerized application that displays random photos from a Nextcloud instance with weighted selection based on recency and "favorite" status.

## Architecture

- **App**: Flask web interface to display photos.
- **Worker**: Background process that scans Nextcloud via WebDAV, extracts EXIF data, and updates Redis.
- **Redis**: Stores photo metadata and weights.
- **Nginx**: Reverse proxy for the application.

## Setup

1.  Copy the example environment file:
    ```bash
    cp example.env .env
    ```

2.  Edit `.env` with your Nextcloud credentials.
    *   **NC_URL**: Your Nextcloud WebDAV URL (e.g., `https://cloud.example.com/remote.php/dav/files/your_username`).
    *   **NC_USER**: Your Nextcloud username.
    *   **NC_PASS**: An App Password (generated in Nextcloud Security settings).
    *   **NC_PHOTO_PATH**: The folder to scan (e.g., `/Photos/`).
    *   **WEATHER_LAT** / **WEATHER_LON**: (Optional) Coordinates for weather display.

3.  Build and run with Docker Compose:
    ```bash
    docker-compose up --build
    ```

3.  Access the app at `http://localhost`.

## Features

- **Weighted Random Selection**: Recent photos (last 3 months) and Favorites get higher priority.
- **EXIF Data**: Displays date taken and GPS status.
- **Image Proxy**: Serves images securely from Nextcloud through the app.
- **Weather Display**: Shows current and tomorrow's weather (requires lat/lon config). Get LAT & LON values from https://www.latlong.net/ for example


## AI Disclaimer

This project was entirely generated by AI (GitHub Copilot) based on user requirements. The code, architecture, and documentation were synthesized by the AI model.
